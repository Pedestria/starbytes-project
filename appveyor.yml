version: 0.0.3-a{build}


branches:
  only:
   - master

image:
  - Visual Studio 2019
  - macos


environment:
  matrix:
    - Generator: Ninja
      Make-Program: ninja
      CMake-Config: -DCMAKE_CXX_COMPILER=clang-cl -DCMAKE_C_COMPILER=clang-cl

init:
- cmd: call "C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars64.bat" x86_amd64

platform: Any CPU

before_build:
  - cmd: cmake -G%Generator% -S./starbytes-lang -B./build %CMake-Config% 
  - sh: cmake -G$Generator -S./starbytes-lang -B./build $CMake-Config 

configuration: Release

build_script:
- cmd: "%Make-Program% -C ./build"
- sh: "$Make-Program -C ./build"



